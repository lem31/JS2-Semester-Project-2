import{M as r,h as d}from"./headers-DqursC6B.js";import{f as l}from"./read-BNWd3mxs.js";import"./place-BSjMR1GP.js";function m(t){const e=document.createElement("div");e.classList.add("my-bids-listing-box");const a=document.createElement("h2"),n=document.createElement("p"),o=document.createElement("p"),i=document.createElement("div"),s=document.createElement("div"),c=document.createElement("p");return c.textContent=t.amount?`Your bid: ${t.amount}`:"No bids",a.textContent=t.listing?.title||"No title available",n.textContent=t.listing?.endsAt?`Ends at: ${t.listing.endsAt}`:"No end date available",o.textContent=t.created?`Bid made on: ${t.created}`:"No bid made date",s.appendChild(a),s.appendChild(c),s.appendChild(o),s.appendChild(n),s.appendChild(i),e.appendChild(s),l(t.listing,e),document.getElementById("my-bid-listings-container").appendChild(e),e}async function E(){try{if(!localStorage.getItem("accessToken"))throw new Error("No access token found. Please log in.");const e=await fetch(r,{method:"GET",headers:d()});if(!e.ok)throw new Error(`HTTP error! status: ${e.status||"unknown"}`);const n=(await e.json()).data||[];localStorage.setItem("myBids",JSON.stringify(n));const o=document.getElementById("my-bid-listings-container");o&&(o.innerHTML="",n.forEach(i=>{m(i)}),n.length===0&&(o.innerHTML="<p>No bids placed yet.</p>"))}catch(t){throw new Error(`Error fetching listings: ${t.message}`)}}E();
